<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" ng-click="$dismiss()">
        <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
    </button>
    <h4 class="modal-title inline" i18n code="login.modal.title" default="Login">{{var}}</h4>
</div>
<div class="modal-body">
    <form class="form-horizontal" role="form"
          ng-controller="SigninController"
          ng-init="init({noredirect:true})"
          ng-submit="submit({success: $close})">

        <div class="alert alert-danger" role="alert" ng-if="violations">
            <i class="fa fa-exclamation-triangle fa-fw"></i>
            <span ng-repeat="(key, value) in violations">
                <span ng-repeat="v in value">
                    <i18n class="inline" code="{{key}}.{{v}}" default="Invalid username or password."
                          ng-if="key == 'credentials' && v == 'mismatch'">
                        {{var}}
                    </i18n>
                    <i18n class="inline" code="{{key}}.{{v}}" default="{{key}}.{{v}}"
                          ng-if="!(key == 'credentials' && v == 'mismatch')">
                        {{var}}
                    </i18n>
                </span>
            </span>
        </div>
        <div class="form-group">
            <label for="username" class="col-sm-2 control-label inline"
                   i18n code="login.username.label" default="Username">
                {{var}}
            </label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="username" ng-model="username" required>
            </div>
        </div>
        <div class="form-group">
            <label for="password" class="col-sm-2 control-label inline"
                   i18n code="login.password.label" default="Password">
                {{var}}
            </label>
            <div class="col-sm-10">
                <input type="password" class="form-control" id="password" ng-model="password" required>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <i18n class="inline" code="login.link" default="Login">
                    <button type="submit" class="btn btn-default">
                        <span ng-if="!working"><i class="fa fa-sign-in fa-fw"></i></span>
                        <span ng-if="working"><i class="fa fa-spinner fa-spin fa-fw"></i></span>
                        {{var}}
                    </button>
                </i18n>
            </div>
        </div>
    </form>
</div>
<div class="modal-footer">
    <i18n code="recover.password.link" default="I don't know my password">
        <a href="#!/password/recover" ng-click="$dismiss()">{{var}}</a>
    </i18n>
</div>